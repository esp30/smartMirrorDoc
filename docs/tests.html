<!DOCTYPE HTML>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no">

    <!-- Page Info -->
    <title>Testing | Smart Mirror </title>

    <!-- Social tags -->
    <meta name="keywords" content="">
    <meta name="description" content="Make your life easier">
    
    <!-- Fonts and icons -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">

    <!-- CSS Files -->
    <link href="assets/css/material-kit.css?v=2.0.5" rel="stylesheet">
          
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon//favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon//favicon-16x16.png">
    <link rel="manifest" href="assets/images/favicon//site.webmanifest">
    <link rel="mask-icon" href="assets/images/favicon//safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    
  </head>

<body data-spy="scroll" data-target="#toc">
  <!-- Navbar  -->
  <nav class="navbar navbar-color-on-scroll navbar-transparent fixed-top navbar-expand-lg" color-on-scroll="100">
      <div class="container">
        <div class="navbar-translate">
          <!-- Begin Logo -->
          <a class="navbar-brand" href="https://esp30.github.io/smartMirrorDoc/">
            <!-- <img src="assets/images/logo/logo.png" alt="">  -->
            <i class="material-icons">video_label</i> Smart Mirror 
          </a>
          <!-- End Logo -->
          
          <!-- Mobile -->
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">
            <!-- Getting Started -->
            
            <li class="nav-item dropdown">
            
              
              <a href="https://esp30.github.io/smartMirrorDoc/getting-started.html" class="nav-link">
                <i class="material-icons">explore</i> Getting Started
              </a>
             
        
            </li>
            
            <!-- The System -->            
             
            <li class="active nav-item dropdown">
            
              <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                <i class="material-icons">build</i> The System
              <div class="ripple-container"></div></a>
              <div class="dropdown-menu dropdown-with-icons">
                <a href="https://esp30.github.io/smartMirrorDoc/architecture.html" class="dropdown-item">
                  <i class="material-icons">dns</i> Architecture
                </a>
                <a href="https://esp30.github.io/smartMirrorDoc/developers.html" class="dropdown-item">
                  <i class="material-icons">book</i> For Developers
                </a>
                <a href="https://esp30.github.io/smartMirrorDoc/operators.html" class="dropdown-item">
                  <i class="material-icons">construction</i> For Operators
                </a>
                <a href="https://esp30.github.io/smartMirrorDoc/tests.html" class="dropdown-item">
                  <i class="material-icons">assignment_turned_in</i> Testing
                </a>
              </div>
            </li>

                    
            <!-- Team -->
            
            <li class="nav-item">
            
              <a href="https://esp30.github.io/smartMirrorDoc/team.html" class="nav-link">
                <i class="material-icons">supervisor_account</i> Team and Conclusions
              </a>
            </li>
           
          </ul>
        </div>
      </div>
    </nav>

  <!-- Content -->
  <!-- Header -->

<div class="page-header header-filter clear-filter purple-filter" data-parallax="true" style=" background: rgb(25, 39, 160); height: 500px; background-image: url('https://esp30.github.io/smartMirrorDoc/assets/images/tests.jpg'); background-position: center; ">

  <div class="container">
    <div class="row">
      <div class="col-md-8 ml-auto mr-auto">
        <div class="brand text-center">
          <h1 data-toc-skip>Testing</h1>
          <h3 class="title text-center" data-toc-skip> How we assess our system works </h3>
          
          
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Content -->
<div class="main main-raised">
  <div class="container">
    <div class="section">
      <div class="row">
        
        <div class="col">
            <h5 data-toc-skip>Table of Contents</h5>
            <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
          </div>
          
          <div id="content" class="col-lg-10">
              <div id="how">
    <div class="title" style="text-align: center">
        <h2>Specification</h2>
        <h3 data-toc-skip>Personas and Scenarions</h3>
        Based on a User Centered Design perspective, we defined the key personas and usage scenarios to define the acceptance criteria of our system. These criteria were the support for most of implemented tests, as described in the next section.
    </div>

</div>

<div id="how">
    <div class="title" style="text-align: center">
        <h3>Persona</h3>
        <h4 data-toc-skip>Who will use our system and why</h4>
    </div>

    <div class="card-deck">
        
        <div class="card" style="width: 20rem;">
            <a>
                <img class="card-img-top" style="width: 100%;" src="assets/images/persona/harold.jpg" alt="Harold">
            </a>

            <div class="card-header card-header-primary">
                <a style="font-weight: bold">Harold</a>
                <p class="category">Retired elder</p>
            </div>
            <ul class="list-group list-group-flush">
                    <li class="list-group-item" style="font-weight: bold">Motivations:</li>
                 
                    <li class="list-group-item">Harold is a 75 years old now-retired Hungarian electrical engineer. Harold is also the carrier of a disease, similar to bipolar disorder, which causes him to change his temper in an abrupt, incontrollable way.</li>
                 
                    <li class="list-group-item">His family is very supportive of his condition. However, as any severe medical condition, Harold requires medical follow-up. In an ideal situation, his doctor would be warned every time his temper changed in order to track and analyze his behavior patterns. Since this isn’t possible, Harold got himself a SmartMirror.</li>
                 
                    <li class="list-group-item">Harold’s account is setup so that every time he stands near, looking at his SmartMirror, the mirror takes a photograph, analyzes the image and determines Harold’s current mood. This information is then sent to his doctor. It also sends a notification every time the system detects a change in his mood.</li>
                
            </ul>
        </div>
        
        <div class="card" style="width: 20rem;">
            <a>
                <img class="card-img-top" style="width: 100%;" src="assets/images/persona/doctor.jpg" alt="John">
            </a>

            <div class="card-header card-header-primary">
                <a style="font-weight: bold">John</a>
                <p class="category">Doctor</p>
            </div>
            <ul class="list-group list-group-flush">
                    <li class="list-group-item" style="font-weight: bold">Motivations:</li>
                 
                    <li class="list-group-item">John is Harold’s doctor. He cares a lot for him and tries to keep up with his current state (mood) at all time.</li>
                 
                    <li class="list-group-item">In order to be able to remotely know how’s his patient doing, he downloaded an app that notifies him whenever there’s a mood change with Harold. It also allows him to look at statistics regarding the latest readings.</li>
                
            </ul>
        </div>
        
        <div class="card" style="width: 20rem;">
            <a>
                <img class="card-img-top" style="width: 100%;" src="assets/images/persona/twins.jpg" alt="Joanne and Madison">
            </a>

            <div class="card-header card-header-primary">
                <a style="font-weight: bold">Joanne and Madison</a>
                <p class="category"></p>
            </div>
            <ul class="list-group list-group-flush">
                    <li class="list-group-item" style="font-weight: bold">Motivations:</li>
                 
                    <li class="list-group-item">Joanne and Madison are two 20 years old twin sisters.</li>
                 
                    <li class="list-group-item">These twin sisters are not a copy of each other. Joanne is enrolled in an Engineering in an University in the north while her sister Madison is perfecting her dancing skills in an dance academy, down south.</li>
                 
                    <li class="list-group-item">Although their different interests, they really like and care for each other and make video calls whenever they can. However, Madison is often busy practicing and having her laptop opened on the floor while she’s trying out new moves is, in the very least, risky. Since Madison needs a mirror to practice, Joanne got her a SmartMirror. This way, they can talk while she practices and Joanne can see her new moves firsthand.</li>
                
            </ul>
        </div>
        
    </div>

<div id="how">
<div class="title" style="text-align: center">
    <h3>Usage Scenarios</h2>
    <h4 data-toc-skip>How the system will be used</h4>
</div>

<div class="list-group">
        <!--Table-->
        <table id="tablePreview" class="table" style="table-layout:fixed">
            <!--Table head-->
            <thead>
            <tr>
                <th>Feature</th>
                <th>Scenario</th>
                <th>Scenario Description</th>
                <th>Scenario Status</th>
            </tr>
            </thead>
            
            <tbody>
                
                
                <tr>
                    <th scope="row">Report Status<br>In order to get better medical care <br> Users should be able to easily report their current status</th>
                    <td>Choose to Report </td>
                    <td>Given a user with a medical condition <br><br>
When the user is happy <br><br>
And the user steps in front of the mirror and says "Status report" <br><br>
Then the smart mirror should assess the user mood as happy <br><br>
</td>
                    <td>Done</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row"><br></th>
                    <td>Report on Wake (RoW) </td>
                    <td>Given a user with a medical condition <br><br>
When the user is not happy <br><br>
And the user just woke up and steps in front of the mirror for a few seconds <br><br>
Then the smart mirror should assess the user mood as neutral <br><br>
</td>
                    <td>Done</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row">Remotely Check Patient Status<br>In order to provide better medical care <br> Users should be able to easily check their patient's (latest) reported status</th>
                    <td>Emotion Trends </td>
                    <td>Given a medical professional that needs to know the trends of emotions for all users<br><br>
And a mobile app that accesses the system's public API<br><br>
Then the medical professional should be able to obtain all emotions registered without any user identification<br><br>
</td>
                    <td>Done</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row"><br></th>
                    <td>Latest Reports </td>
                    <td>Given a medical professional that takes care of a user<br><br>
And a mobile app that accesses the system's public API<br><br>
When the medical professional wishes to check on their latest reports<br><br>
Then the medical professional should be able to access the latest reports of the patient using the mobile app<br><br>
</td>
                    <td>Done</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row">Display Informations<br>In order to complement the day to day tasks <br> Users should be able to get useful informations (like the weather)</th>
                    <td>Checking the Weather </td>
                    <td>Given a user <br><br>
And internet connection <br><br>
When the user says "Display weather" <br><br>
Then the smart mirror should display the weather for the day <br><br>
</td>
                    <td>Not done (out of scope)</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row"><br></th>
                    <td>Checking To Do List </td>
                    <td>Given a user <br><br>
And internet connection <br><br>
When the user says "Display To Do list" <br><br>
Then the smart mirror should display the user's "To do list" <br><br>
</td>
                    <td>Not done (out of scope)</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row">Reminders<br>In order to complement the day to day tasks <br>Users should be able to set reminders</th>
                    <td>Set Reminder </td>
                    <td>Given a user <br><br>
And internet connection <br><br>
When the user says "Set reminder for 10 o'clock" <br><br>
Then the smart mirror should set a reminder with an associated alarm set to go off at 10 o'clock <br><br>
</td>
                    <td>Not done (out of scope)</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row">Multimedia Capture<br>In order to complement the day to day tasks <br>Users should be able to take photos and record audio and video</th>
                    <td>Taking a Photo </td>
                    <td>Given a user <br><br>
And internet connection <br><br>
When the user says "Take a photo" <br><br>
Then the smart mirror should save the current frame as an image file <br><br>
</td>
                    <td>Not done (out of scope)</td>
                </tr>
                
                
                
                <tr>
                    <th scope="row"><br></th>
                    <td>Recording Audio/Video </td>
                    <td>Given a user <br><br>
And internet connection <br><br>
When the user says "Record audio/video" <br><br>
Then the smart mirror should record the audio/video stream until the user says "Stop" <br><br>
</td>
                    <td>Not done (out of scope)</td>
                </tr>
                
                
            </tbody>
        </table>
        
        
    </div>
    

<div id="acceptance-tests">
    <div class="title" style="text-align: center">
        <h2>Implementation</h2>
    </div>

    From the defined features, we chose to implement the first two (Report Status and Remotely Check Patient Status). <br><br>

    Having in mind a <b>Behavior-driven development</b> (BDD) mindset, the defined scenarios for each feature were the basis for the testing of the system. <i>Post-production tests based on those scenarios were implemented using the Cucumber tool.</i><br><br>

    <b>To make the testing process more robust and also quicker</b> during the execution of the DevOps pipeline, we opted to <b>divide the tests</b> implemented using the Cucumber tool <b>into 2 sets: online and offline tests</b>. The difference between these 2 types lies on the usage or not of the external API the system provides. This division was useful to make sure that, if needed, only part of the tests can be run when needed (and not all of them) and also to allow parallelization of the execution of the 2 sets of tests in the pipeline (see the Cucumber Tests stages <a href="">here</a>). <br><br>

    It was also developed an <b>integration test</b> that uses the API to retrieve the emotion counts (statistics), then it injects a new image in the system, simulating a photo taken by the mirror. This image is processed by the emotion detection module that adds the new emotion to the system. The last step of this test requires a new request to the same end point of the API which will allow for a comparison between the first emotion counts and the updated one. The difference between them should correspond to the emotion present in the image injected. <br><br>

    <b>Tests can be run through the execution of the Jenkins pipeline</b> of the project, where it's possible to see the reports prepared in the last stage of the pipeline as illustrated below (<i>Cucumber reports Jenkins plugin</i> is required). <br><br>

    <img class="center" src="assets/images/cucumber_example.png" alt="Project Architecture Diagram" style="max-width:100%;
    max-height:100%;"></img>
    <p class="text-muted" style="text-align: center">
        Reports for feature 2 (Remotely Check Patient Status) as seen in the Jenkins dashboard
    </p>

    <br><br>
   
    <b>Alternatively</b>, the tests can be run using <code>mvn test -Dcucumber.options="--tags @online/@offline --tags ~@not-implemented" -s settings.xml</code> if you only want to run online/offline tests or <code>mvn test -Dcucumber.options= --tags ~@not-implemented" -s settings.xml</code> if you want to run all the tests. In these situations, the results will be available in the file <code>target/cucumber/report.json</code>

</div>

<br>



              
              <br>
              <a class="sidebar-nav-item" href="#" data-proofer-ignore><h5 data-toc-skip><i class="material-icons">arrow_upward</i> Return to Top</h5></a>
          </div>
           
      </div> 
    </div>
  </div>
</div>
 
  
  <!-- Footer -->
  <footer class="footer footer-default">
    <div class="container">
      <nav class="float-left">
        <ul>
          <li>
            <a> Smart Mirror - Make your life easier</a>
          </li>
        </ul>
      </nav>
      <div class="copyright float-right">
        &copy;
        <script>
          document.write(new Date().getFullYear())
        </script>, made with <i class="material-icons">favorite</i> by
        Jorge, Marcelo, Fabio, Paulo, Pedro.
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <!--   Core JS Files   -->
  <script src="./assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
  <script src="./assets/js/plugins/moment.min.js"></script>
  <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
  <script src="./assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="./assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGat1sgDZ-3y6fFe6HD7QUziVC6jlJNog"></script>
  <!--	Plugin for Sharrre btn -->
  <script src="./assets/js/plugins/jquery.sharrre.js" type="text/javascript"></script>
  <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
  <script src="./assets/js/material-kit.min.js?v=2.0.5" type="text/javascript"></script>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  
  <!-- TOC -->
  <!-- add after bootstrap.min.css -->
  <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"/>
  <!-- add after bootstrap.min.js -->
  <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>

  <!-- Tooltips -->
  <script>
  $('a[data-toggle="tooltip"]').tooltip({
    animated: 'fade',
    placement: 'bottom',
    html: true
  });
  </script>
</body>

</html>
